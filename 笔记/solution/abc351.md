## E   

曼哈顿距离 --- 切比雪夫距离 

---

**曼哈顿距离** ： 横纵坐标距离差的绝对值的和，即`|X1 - x2| + |Y1 - Y2|` ，离（0,0）点曼哈顿距离为 1 的点形成的是一个**旋转 45 度后的正方形**

**切比雪夫距离** ： 横纵坐标距离差的绝对值的**最大值**，即 `max(|X1 - X2|,||Y1 - Y2)`，离（0,0）点切比雪夫距离为 1 的点形成的是一个**不旋转的正方形**。

曼哈顿距离转切比雪夫距离 ：

（x,y）--- （x+y,x -y），转换前曼哈顿距离 等于 转换后两点切比雪夫距离

切比雪夫距离转曼哈顿距离 ：

（x,y）---  （(x + y) / 2,(x - y) / 2），转化前两点切比雪夫距离 等于 转换后两点曼哈顿距离。

计算距离差和，可以直接不除于 2， 最后输出时除即可

[AtCoder Beginner Contest 351 E Solution - SyuAyaka - 博客园 (cnblogs.com)](https://www.cnblogs.com/SyuAyaka/articles/-/abc351e)

**曼哈顿距离求解的通法！！！！！**[AtCoder Beginner Contest 351 A~F - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/695014708) 

先排序， `ans += i * now - pre;`，now 表示当前值是第 i 个，pre 表示前面的距离和。



---

## F

权值线段树  线段树维护前面中比当前数字小的数量和总和即可，循环到一个`modify`一个数据进去，边查询边修改，答案等于 `cnt * now - sum`